@model IEnumerable<BookCatalog.Components.ViewModels.TopAuthorViewModel>
@{
    ViewBag.Title = "TopAuthors";
}

<h2>TopAuthors</h2>
<div id="SearchTopAutors">
    <h3>Search top authors:</h3>
    @Html.Partial("SearchForm", new BookCatalog.Components.ViewModels.SearchTopAuthorsViewModel())
</div>

<table class="table table-striped table-bordered" cellspacing="0">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Id)
            </th>
            <th>
                @Html.DisplayName("Name")
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TotalRating)
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Id)
                </td>
                <td>
                    @Html.ActionLink(string.Format("{0} {1}", item.FirstName, item.SecondName), "Details", "Author", new { area = "MVC" }, new { id = item.Id, FirstName = item.FirstName.Replace(" ", String.Empty).Replace(".", String.Empty), LastName = item.SecondName.Replace(" ", String.Empty).Replace(".", String.Empty) })                    
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TotalRating)
                </td>
            </tr>
        }
    </tbody>
</table>